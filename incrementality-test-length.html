<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Incrementality test length</title>

</head>

<body>

    <div class="bl_calculator_titel">Incrementality Test Budget & Length Calculator</div>
    <button onclick="window.location.href='./index.html'" class="back_button">‚Üê</button>


    <div id="bl_calculator">


        <div class="bl_calculator_inputs">
            <div class="bl_calculator_input_section">
                <div class="bl_calculator_name_section">Sitewide Metrics :</div>

                <div class="bl_calculator_row bl_calculator_row_f">
                    <div class="inti">Average Monthly Revenue (US)</div>
                    <div class="bl_calculator_cell">
                        <input type="text" class="in" id="tbl_amr_value" value="50000 $" oninput="formatdolInput(this)">
                    </div>
                    <div style="clear: both;"></div>
                </div>

                <div class="bl_calculator_row">
                    <div class="inti">Average Monthly Orders (US)</div>
                    <div class="bl_calculator_cell">
                        <input type="number" class="in" id="tbl_amo_value" value="411">
                    </div>
                    <div style="clear: both;"></div>
                </div>


                <div class="bl_calculator_name_section">Test Parameters :</div>

                <div class="bl_calculator_row bl_calculator_row_f">
                    <div class="inti">Expected ROAS</div>
                    <div class="bl_calculator_cell">
                        <input class="in" type="number" id="tbl_roas_value" value="4">
                    </div>
                    <div style="clear: both;"></div>
                </div>

                <div class="bl_calculator_row">
                    <div class="inti">Monthly Test Budget</div>
                    <div class="bl_calculator_cell">
                        <input type="text" class="in" id="tbl_mtb_value" value="500 $" oninput="formatdolInput(this)">
                    </div>
                    <div style="clear: both;"></div>
                </div>
            </div>
        </div>

        <div class="bl_calculator_results">
            <div class="bl_calculator_name_sectionr">Expected Test Length</div>



            <div class="bl_calculator_results_row bl_calculator_row bl_calculator_row_f">
                <div class="bl_calculator_results_row_cellt">Until Yes/No of added value:</div>
                <div class="bl_calculator_results_row_cell timeline">
                    <span id="tbl_yn_min" class="min"></span>
                    <span class="m m1">Minimum</span>
                    <div class="line-container">
                        <div class="progress-line"></div>
                    </div>
                    <span id="tbl_yn_max" class="max"></span>
                    <span class="m m2">Maximum</span>
                </div>
            </div>

            <div class="divider">.</div>


            <div class="bl_calculator_results_row bl_calculator_row bl_calculator_row_f cal_sec_row">
                <div class="bl_calculator_results_row_cellt">Until precise lift estimate:</div>
                <div class="bl_calculator_results_row_cell"><span class="m">
                        Up to</span></div>
                <div class="bl_calculator_results_row_cell"><span id="tbl_le" class="m">0 Days</span></div>
            </div>
        </div>
    </div>

    <style>
        .bl_calculator_results_row_cell {
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .divider {
            font-size: 0px;
            color: white;
            background-color: white;
            width: 96%;
            height: 6px;
            border-radius: 18px;

        }

        .timeline {
            display: flex;
            position: relative;
            width: 100%;
            flex-direction: column;
        }

        .m {
            text-align: center;
            font-size: 26px;
            margin-bottom: 12px;

        }

        .max {
            margin-top: 20px;
        }

        .max,
        .min {
            text-align: center;
            font-size: 28px;
        }

        .cal_sec_row {
            margin-top: 50px;
        }

        .line-container {
            position: relative;
            height: 130px;
            width: 2px;
            margin: 0 10px;
        }

        .m1 {
            color: rgb(3, 227, 3);
        }

        .m2 {
            color: rgb(254, 53, 53);
        }

        .progress-line {
            width: 6px;
            height: 100%;
            background-color: #3A1078;
            position: absolute;
            left: -41%;
            top: 0;
        }

        .line-container::before {
            content: "";
            position: absolute;
            top: -5px;
            left: 100%;
            transform: translateX(-50%);
            width: 17px;
            height: 17px;
            z-index: 10;
            background-color: rgb(3, 209, 3);
            border-radius: 50%;
        }

        .line-container::after {
            content: "";
            position: absolute;
            bottom: -2px;
            left: 100%;
            transform: translateX(-50%);
            width: 17px;
            height: 17px;
            background-color: red;
            border-radius: 50%;
        }



        body {
            background: linear-gradient(135deg, #f5faff, #0195ff);
            animation: none;
            margin: 0;
            padding: 50px 0;
            padding-top: 6% !important;

            font-family: Arial, sans-serif;
        }



        #bl_calculator {
            display: flex;
            font-family: Arial, sans-serif;
            max-width: 80%;
            margin: 30px auto;
            background-color: #f5f5f5;
            border-radius: 33px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            justify-content: space-around;
            min-height: 776px;
        }

        .bl_calculator_titel {
            text-align: center;
            font-size: 42px;
            font-weight: bold;
            margin-bottom: 4%;
            font-family: sans-serif;
            margin-inline: 30px;
            color: #333;
        }



        .bl_calculator_input_section {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            font-size: 26px;
            min-height: 643px;
            padding-top: 50px;
        }

        .bl_calculator_row {
            display: flex;
            flex-direction: column;
            margin-bottom: 10px;
            width: 80%;
            align-items: center;
        }

        .bl_calculator_name_section {

            text-align: center;
            font-size: 30px;
            font-weight: bold;
            margin-bottom: -17px;
        }

        .bl_calculator_name_sectionr {
            margin-inline: 12px;
            height: 7%;
            text-align: center;
            font-size: 33px;
            font-weight: bold;
            margin-bottom: 33px;
        }

        .bl_calculator input[type="number"] {
            width: 100%;
            max-width: 200px;
            border: 0;
            box-shadow: inset 1px 1px 5px #060606;
            background: #0C1A5B;
            padding: 5px 15px;
            color: #fff;
        }

        .bl_calculator_inputs,
        .bl_calculator_results {
            width: 50%;

        }

        .bl_calculator_results_row_cellt {
            text-align: center;
            font-weight: 600;
            color: #031359;
            font-size: 30px;
            margin-bottom: 10px;
        }

        .in {
            width: 80%;
            text-align: center;
            width: 60%;
            padding: 8px;
            font-size: 26px;
            border: 1px solid #ccc;
            border-radius: 12px;
            background-color: #fff;
        }

        .inti {
            font-size: 24px;
            color: #555;
            margin-bottom: 10px;
            text-align: center;
        }

        .bl_calculator_cell {
            display: flex;
            float: left;
            width: 100%;
            justify-content: center;
        }

        .bl_calculator_results {
            display: flex;
            color: white;
            border-radius: 33px;
            width: 50%;
            min-height: 643px;
            background-color: #0195ff;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding-top: 50px;
        }
        .back_button {
        font-weight: 900;
    position: absolute;
    top: 10px;
    left: 10px;
    background-color: #0195ff;
    color: #ffffff;
    padding-bottom: 6px;
    padding-inline: 9px;
    border: none;
    border-radius: 28px;
    cursor: pointer;
    font-size: 36px;
}

.back_button:hover {
    background-color: #4fb5fd; /* Darker green */
}

/* Responsive design for different screen sizes */
@media (max-width: 768px) {
    .back_button {
        font-size: 27px;        
    }
}

@media (max-width: 480px) {
    .back_button {
        font-size: 20px; 
       
    }
}




        @media all and (max-width: 768px) {
            .bl_calculator_results_row_cellt {
                text-align: center;
                font-weight: 600;
                color: #031359;
                font-size: 25px;
                margin-bottom: 10px;
            }

            .max,
            .min {
                text-align: center;
                font-size: 25px;
            }

            .in {
                width: 80%;
                text-align: center;
                width: 66%;
                padding: 6px;
                font-size: 24px;
                border: 1px solid #ccc;
                border-radius: 12px;
                background-color: #fff;
            }

            .bl_calculator_inputs,
            .bl_calculator_results {
                width: 100%;

            }

            #bl_calculator {
                flex-direction: column;
            }

            .bl_calculator_titel {
                text-align: center;
                font-size: 30px;
                margin-inline: 20px;
            }

            .bl_calculator_name_section,
            .bl_calculator_name_sectionr {
                font-size: 28px;
            }

            .inti {
                font-size: 21px;
            }

            .m {
                font-size: 25px;
            }

            .bl_calculator input[type="number"] {
                max-width: 90%;
            }
        }

        @media all and (max-width: 424px) {
            .bl_calculator_titel {
                font-size: 1.5em;
            }

            .bl_calculator_name_section,
            .bl_calculator_name_sectionr {
                font-size: 24px;

            }




            .divider {
                height: 2px;
            }
        }
    </style>

    <script>

         function formatPercentageInput(element) {
            let value = element.value.replace(/[^0-9.-]+/g, "");
            element.value = value + "%";
        }
        function calculateGrowth() {
            var amr = parseFloat(document.getElementById("tbl_amr_value").value) || 0;
            var amo = parseFloat(document.getElementById("tbl_amo_value").value) || 0;
            var roas = parseFloat(document.getElementById("tbl_roas_value").value) || 0;
            var mtb = parseFloat(document.getElementById("tbl_mtb_value").value) || 0;

            if (amo <= 0 || roas <= 0 || mtb <= 0) {
                document.getElementById("tbl_yn_min").textContent = formatTime(0);
                document.getElementById("tbl_yn_max").textContent = formatTime(0);
                document.getElementById("tbl_le").textContent = formatTime(0);
                return; 
            }

            
            function t(x) {
                return 1.96 * x * Math.sqrt(amo / 60) * (amr / amo) / (roas * mtb / 30);
            }

            
            var tbl_yn_min = Math.pow(t(1), 2);
            var tbl_yn_max = Math.pow(t(2), 2);
            var tbl_le = Math.pow(t(4), 2);

            document.getElementById("tbl_yn_min").textContent = formatTime(tbl_yn_min);
            document.getElementById("tbl_yn_max").textContent = formatTime(tbl_yn_max);
            document.getElementById("tbl_le").textContent = formatTime(tbl_le);
        }

        function formatTime(days) {
            var years = Math.floor(days / 360); 

            if (years > 10000) {
                return "More than 10000 years";
            }

            days %= 360;
            var months = Math.floor(days / 30);
            days = Math.floor(days % 30); 

            var result = "";
            if (years > 0) {
                result += years + (years > 1 ? " years " : " year ");
            }
            if (months > 0) {
                result += months + (months > 1 ? " months " : " month ");
            }
            result += days + (days === 1 ? " day" : " days");

            return result;
        }

        document.querySelectorAll("#bl_calculator input").forEach(function (input) {
            input.addEventListener("input", calculateGrowth);
        });

        calculateGrowth();

    </script>

</body>

</html>